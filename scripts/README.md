# Эмулятор подключения плат зарядных станций

Система позволяет эмулировать различные сценарии подключения плат для тестирования веб-интерфейса.

## Быстрые команды

### Bash скрипты
```bash
# Подключить Master плату (переход к dashboard)
./scripts/connect-master.sh

# Подключить Slave плату (переход к интерфейсу станции)
./scripts/connect-slave.sh

# Отключить все платы (экран ожидания)
./scripts/disconnect-all.sh
```

### Расширенные команды
```bash
# Основной скрипт эмуляции
node scripts/emulate-board.js <тип> [id]

# Примеры:
node scripts/emulate-board.js master          # Master плата с ID 1
node scripts/emulate-board.js slave 5         # Slave плата с ID 5
node scripts/emulate-board.js none            # Отсутствие плат
node scripts/emulate-board.js both            # Master + Slave платы
```

## Типы плат

### Master плата
- **Назначение**: Главная управляющая плата системы
- **Интерфейс**: Dashboard с обзором всех станций
- **Функции**: Мониторинг, управление мощностью, статистика

### Slave плата  
- **Назначение**: Плата отдельной зарядной станции
- **Интерфейс**: Интерфейс управления конкретной станцией
- **Функции**: Локальные настройки, параметры зарядки, статус автомобиля

## Поведение системы

1. **При загрузке** - показывается экран ожидания "Инициализация..."
2. **Через 2 секунды** - начинается автоматический поиск плат
3. **При обнаружении Master** - переход к dashboard
4. **При обнаружении только Slave** - переход к интерфейсу станции
5. **При отсутствии плат** - остается экран ожидания с кнопками

## Файл данных

Все данные о платах хранятся в файле `data/stations.json`. Система автоматически отслеживает изменения и перезагружает данные при обновлении файла.

## Тестирование сценариев

```bash
# Сценарий 1: Подключение новой системы (нет плат)
node scripts/emulate-board.js none
# -> Экран ожидания

# Сценарий 2: Подключение Master платы
node scripts/emulate-board.js master
# -> Dashboard со всеми станциями

# Сценарий 3: Подключение только Slave платы
node scripts/emulate-board.js slave
# -> Интерфейс управления станцией

# Сценарий 4: Полная система (Master + Slave)
node scripts/emulate-board.js both
# -> Dashboard с управлением системой
```

После каждой команды обновите страницу браузера для применения изменений.