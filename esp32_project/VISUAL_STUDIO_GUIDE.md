# üîå –ó–∞–≥—Ä—É–∑–∫–∞ ESP32 —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ Visual Studio Code

## üìñ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Visual Studio Code

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ VS Code:
1. **–°–∫–∞—á–∞–π—Ç–µ VS Code** —Å https://code.visualstudio.com/
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É** —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ VS Code**

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è PlatformIO:
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π**: `Ctrl+Shift+X`
2. **–ù–∞–π–¥–∏—Ç–µ "PlatformIO IDE"** 
3. **–ù–∞–∂–º–∏—Ç–µ "Install"**
4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VS Code** –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 2Ô∏è‚É£ –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É `esp32_project`** –≤ —É–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ
2. **–í VS Code**: `File ‚Üí Open Folder`
3. **–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É `esp32_project`**
4. **PlatformIO –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—Ä–æ–µ–∫—Ç**

### 3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WiFi

–û—Ç–∫—Ä–æ–π—Ç–µ `src/main.cpp` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```cpp
// –†–µ–∂–∏–º —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
const char* ssid = "ESP32_ChargingStations";
const char* password = "12345678";

// –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ—Ç–∏:
// const char* ssid = "–í–∞—à–∞_WiFi_—Å–µ—Ç—å";
// const char* password = "–ø–∞—Ä–æ–ª—å_—Å–µ—Ç–∏";
```

### 4Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ESP32

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ ESP32** —á–µ—Ä–µ–∑ USB –∫–∞–±–µ–ª—å
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   - CH340: https://sparks.gogo.co.nz/ch340.html
   - CP2102: https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers

### 5Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
```bash
# –°–Ω–∞—á–∞–ª–∞ —Å–æ–±–µ—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–±—Ä–∞–Ω)
cd .. && npm run build

# –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ ESP32 –ø—Ä–æ–µ–∫—Ç
cd esp32_project

# –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
python scripts/build_web_interface.py
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-—Ñ–∞–π–ª–æ–≤:
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –≤ –ø–∞–ø–∫–µ `data/www/` –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ç–µ–º –∂–µ –¥–∏–∑–∞–π–Ω–æ–º, —á—Ç–æ –∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

### 6Ô∏è‚É£ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ VS Code

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å PlatformIO

1. **–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É PlatformIO** –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–º—É—Ä–∞–≤–µ–π)
2. **–ù–∞–π–¥–∏—Ç–µ "esp32dev" –≤ PROJECT TASKS**
3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É**:
   - `General ‚Üí Build` - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏
   - `Platform ‚Üí Build Filesystem Image` - —Å–±–æ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
   - `General ‚Üí Upload` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏
   - `Platform ‚Üí Upload Filesystem Image` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤–µ–±-—Ñ–∞–π–ª–æ–≤

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª VS Code

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª**: `Terminal ‚Üí New Terminal`
2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã**:

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
pio run

# –°–±–æ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
pio run --target buildfs

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏
pio run --target upload

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
pio run --target uploadfs
```

#### –°–ø–æ—Å–æ–± 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
python scripts/build_and_upload.py --update-web

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ—Ä—Ç–∞
python scripts/build_and_upload.py --port COM3 --update-web

# –¢–æ–ª—å–∫–æ —Å–±–æ—Ä–∫–∞
python scripts/build_and_upload.py --only-build

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏
python scripts/build_web_interface.py
```

### 7Ô∏è‚É£ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≥—Ä—É–∑–∫–∏

#### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Serial Monitor:
1. **–í PlatformIO**: `esp32dev ‚Üí Monitor`
2. **–ò–ª–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ**: `pio device monitor`

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä —Å —Ü–≤–µ—Ç–∞–º–∏:
```bash
python scripts/monitor.py
python scripts/monitor.py --filter success
python scripts/monitor.py --save-log
```

### 8Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Serial Monitor –ø–æ—è–≤–∏—Ç—Å—è:

```
=== ESP32 Charging Station Management System ===
‚úì LittleFS –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
‚úì WiFi —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–∑–¥–∞–Ω–∞
IP –∞–¥—Ä–µ—Å: 192.168.4.1
‚úì mDNS –∑–∞–ø—É—â–µ–Ω: http://chargingstations.local
‚úì –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 80
‚úì –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏
=== –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ ===
```

### 9Ô∏è‚É£ –î–æ—Å—Ç—É–ø –∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ WiFi**: "ESP32_ChargingStations" (–ø–∞—Ä–æ–ª—å: 12345678)
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä**: http://192.168.4.1
3. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ**: http://chargingstations.local

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### ‚ùå ESP32 –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ Device Manager

**–†–µ—à–µ–Ω–∏—è**:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã CH340 –∏–ª–∏ CP2102
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π USB –∫–∞–±–µ–ª—å
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–±–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö

### ‚ùå –û—à–∏–±–∫–∞ "A fatal error occurred: Failed to connect"

**–†–µ—à–µ–Ω–∏—è**:
1. **–ó–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É BOOT** –Ω–∞ ESP32
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É**
3. **–û—Ç–ø—É—Å—Ç–∏—Ç–µ BOOT** –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏

### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –≤ Flash –ø–∞–º—è—Ç–∏

**–†–µ—à–µ–Ω–∏—è**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ ESP32 –∏–º–µ–µ—Ç 16MB Flash
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `platformio.ini`:
```ini
board_build.partitions = huge_app.csv
board_build.filesystem = littlefs
```

### ‚ùå –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏—è**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ `Upload Filesystem Image`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π WiFi —Å–µ—Ç–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ http://192.168.4.1 –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏

## üìä –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ VS Code + PlatformIO

| –î–µ–π—Å—Ç–≤–∏–µ | –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ |
|----------|----------------|
| –°–±–æ—Ä–∫–∞ | `Ctrl+Alt+B` |
| –ó–∞–≥—Ä—É–∑–∫–∞ | `Ctrl+Alt+U` |
| –û—á–∏—Å—Ç–∫–∞ | `Ctrl+Alt+C` |
| Serial Monitor | `Ctrl+Alt+S` |
| –¢–µ—Ä–º–∏–Ω–∞–ª | `Ctrl+Shift+\`` |

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### OTA –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Over-The-Air):
–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ—à–∏–≤–∫—É –ø–æ WiFi:
```bash
pio run --target upload --upload-port 192.168.4.1
```

### –û—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑ WiFi:
```cpp
// –í –∫–æ–¥–µ –¥–æ–±–∞–≤—å—Ç–µ –¥–ª—è remote debug
#include <ESPAsyncTCP.h>
// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ remote logging
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
python scripts/monitor.py --filter memory

# –ê–Ω–∞–ª–∏–∑ —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π  
python scripts/monitor.py --filter network
```

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- ‚úÖ **Serial Monitor –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫**
- ‚úÖ **WiFi —Å–µ—Ç—å "ESP32_ChargingStations" –≤–∏–¥–Ω–∞**
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É 192.168.4.1**
- ‚úÖ **WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ (–∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å)**
- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–∞–Ω—Ü–∏–∏**
- ‚úÖ **–î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥**

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—Ä—è–¥–Ω—ã–º–∏ —Å—Ç–∞–Ω—Ü–∏—è–º–∏ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –Ω–∞ ESP32!** üéâ